<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:p="http://primefaces.org/ui">

    <f:view contentType="text/html">
        <h:head>
            <link rel="stylesheet" type="text/css" href="resources/css/style.css"/>
        </h:head>

        <h:body >
             <h:form >    
             
            <p:tabView orientation="top"  style="height:100%; page:full">
                <p:tab title="客房预订" >
                    <p:growl id="msgs" showDetail="true" />
                    <p:panel style="width:100%;">
                    <p:commandButton id="bookroom" value="预订房间"  onclick="PF('dlg').show();" type="button" />
                    <p:dialog header="预定信息" widgetVar="dlg" resizable="false" dynamic="true">
                        <h:panelGrid columns="2" cellpadding="5">
                                <h:outputLabel value="房间类型：" />
                                    <h:selectOneMenu id="type"  value="#{bookingController.selected.type}" required="true" label="Type">
                                        <f:selectItem itemLabel="选择一种房间类型" itemValue="" noSelectionOption="true" />
                                        <f:selectItem itemLabel="单人间" itemValue="S" />
                                        <f:selectItem itemLabel="双人间" itemValue="D" />
                                        <f:selectItem itemLabel="三人间" itemValue="T" />
                                        <f:selectItem itemLabel="总统套房" itemValue="P" />
                                    </h:selectOneMenu>
                                     <h:outputLabel value="联系电话：" for="tel" />
                                    <p:inputText id="tel" value="#{bookingController.selected.tel}" title="#{bundle.CreateBookingTitle_tel}" required="true" requiredMessage="#{bundle.CreateBookingRequiredMessage_tel}"/>
                                    <h:outputLabel value="客户姓名：" for="CName" />
                                    <p:inputText id="CName" value="#{bookingController.selected.CName}" title="#{bundle.CreateBookingTitle_CName}" required="true" requiredMessage="#{bundle.CreateBookingRequiredMessage_CName}"/>
                                    <p:outputLabel for="dateFrom" value="起始日期:" />
                                   <p:calendar id="dateFrom" value="#{bookingController.selected.dateFrom}" pattern="MM-dd-yyyy" mask="true" />
                                     <p:outputLabel for="dateTo" value="结束日期:" />
                                    <p:calendar id="dateTo" value="#{bookingController.selected.dateTo}" pattern="MM-dd-yyyy" mask="true" />
                                    
                            <f:facet name="footer">
                               
                                <p:commandButton value="#{bundle.CreateBookingSaveLink}"  actionListener="#{bookingController.create}"  oncomplete="location.reload()"  icon="ui-icon-check"  />
                            </f:facet>  
                        </h:panelGrid>
                    </p:dialog>
                    
                    
                    
                    <p:dataTable  value="#{bookingController.items}"   var="item" style="border:solid 1px"  scrollable="true"  scrollHeight="600"  >
                        <p:column>
                            <f:facet name="header">
                                <h:outputText value="房间类型"/>
                            </f:facet>
                            <h:outputText value="#{item.type}" />
                        </p:column>
                        <p:column>
                            <f:facet name="header">
                                <h:outputText value="客户姓名"/>
                            </f:facet>
                            <h:outputText value="#{item.CName}"/>
                        </p:column>
                        <p:column>
                            <f:facet name="header">
                                <h:outputText value="联系方式"/>
                            </f:facet>
                            <h:outputText value="#{item.tel}"/>
                        </p:column>
                        <p:column>
                            <f:facet name="header">
                                <h:outputText value="开始日期"/>
                            </f:facet>
                            <h:outputText value="#{item.dateFrom}">
                                <f:convertDateTime pattern="yyyy-MM-dd" timeZone="GMT+8"/>
                            </h:outputText>
                        </p:column>
                        <p:column>
                            <f:facet name="header">
                                <h:outputText value="结束日期"/>
                            </f:facet>
                            <h:outputText value="#{item.dateTo}">
                                <f:convertDateTime pattern="yyyy-MM-dd" timeZone="GMT+8"/>
                            </h:outputText>
                        </p:column>
                    </p:dataTable>
      
                    </p:panel>
                </p:tab>
                
                
                <p:tab title="住房情况">
               <p:growl id="mm" showDetail="true" />
                    <p:panel style="width:100%;">
                        <h:panelGrid columns="2" style="margin-bottom:10px" cellpadding="5">
                            <p:button id="newrecord" value="入住登记" outcome="newRecord.xhtml" />          
                            <p:button id="leave" value="退房登记"  outcome="checkOut" />
                            
                      
                            
                        </h:panelGrid>
                    
                    <p:dataTable  value="#{recordController.items}"   var="item" style="border:solid 1px"  scrollable="true"  scrollHeight="500" >
                        <p:column>
                            <f:facet name="header">
                                <h:outputText value="房间号"/>
                            </f:facet>
                            <h:outputText value="#{item.roomRNo}" />
                        </p:column>
                        <p:column>
                            <f:facet name="header">
                                <h:outputText value="入住日期"/>
                            </f:facet>
                            <h:outputText value="#{item.startDate}">
                                <f:convertDateTime pattern="yyyy-MM-dd" timeZone="GMT+8"/>
                            </h:outputText>
                        </p:column>
                        <p:column>
                            <f:facet name="header">
                                <h:outputText value="退房日期"/>
                            </f:facet>
                            <h:outputText value="#{item.endDate}">
                                <f:convertDateTime pattern="yyyy-MM-dd" timeZone="GMT+8"/>
                            </h:outputText>
                        </p:column>
                        <p:column>
                            <f:facet name="header">
                                <h:outputText value="房费"/>
                            </f:facet>
                            <h:outputText value="#{item.bill}"/>
                        </p:column>
                        <p:column>
                            <f:facet name="header">
                                <h:outputText value="押金"/>
                            </f:facet>
                            <h:outputText value="#{item.cashPledge}"/>
                        </p:column>
                    </p:dataTable>
      
                    </p:panel>
                </p:tab>
                
                
                <p:tab title="业务查询">
 
              
                </p:tab>
            </p:tabView>
         </h:form>
         </h:body>

    </f:view>
</html>
