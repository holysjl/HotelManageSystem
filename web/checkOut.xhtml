<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://xmlns.jcp.org/jsf/core">
    <h:head>
        <title>酒店管理系统</title>
        <h:outputStylesheet name="css/jsfcrud.css"/>
    </h:head>
    <h:body>
        <h:form  >
            <p:growl id="msgs" showDetail="true" />
            <h:panelGrid columns="1" cellpadding="0" width="100%" >
                <p:panel header ="退房">
                    <h:outputLabel value="房间号" for="roomNo" />
                    <p:inputText id="roomRNo" value="#{recordController.roomNo}"/>
                      
        

            <p:commandButton value="查询房间记录"  actionListener="#{recordController.searchRecord}"  update="roomrecord" >
                
                </p:commandButton>
                    </p:panel> 
                    <p:panel header="房间信息">
                 <h:panelGrid id="roomrecord"  columns="2" style="margin-bottom:10px" cellpadding="5" > 
                 <h:outputLabel value="房费" for="fee"/>
                 <p:selectOneMenu id="fee"  value="#{billController.fee}" >
                     <f:selectItems value="#{recordController.checkfee}" />
                </p:selectOneMenu>
                 
                 <h:outputLabel value="押金" for="cashPledge"/>
                 <p:selectOneMenu id="cashPledge"  value="#{billController.cashPledge}" >
                     <f:selectItems value="#{recordController.checkcash}" />
                </p:selectOneMenu>
                 
                 <h:outputLabel value="订单号" for="recordNo" />
                 <p:selectOneMenu id="recordNo"  value="#{billController.selected.record}"  >
                     <f:selectItems value="#{recordController.checkrecords}" />
                </p:selectOneMenu>
      
             </h:panelGrid> 
                    </p:panel>
                <p:panel header="收费物品清单" style="height:405px">
              <h:panelGrid id="thinglist" columns="2" style="margin-bottom:10px" cellpadding="5" >
                <p:outputLabel value="避孕用品: " for="t1"/>
                <p:selectBooleanCheckbox  id="t1" value="#{billController.value1}" required="false" >
                    <p:ajax listener="#{billController.add1}"/>
                </p:selectBooleanCheckbox>

                <p:outputLabel value="毛巾: " for="t2"/>
                <p:selectBooleanCheckbox  id="t2" value="#{billController.value2}" required="false">
                    <p:ajax listener="#{billController.add2}"/>
                </p:selectBooleanCheckbox>

                <p:outputLabel value="扑克牌: "  for="t3"/>
                <p:selectBooleanCheckbox id="t3" value="#{billController.value3}" required="false">    
                    <p:ajax listener="#{billController.add3}"/>  
                </p:selectBooleanCheckbox>

                <p:outputLabel value="矿泉水 " for="t4" />
                <p:selectBooleanCheckbox id="t4" value="#{billController.value4}" required="false">
                    <p:ajax listener="#{billController.add4}"/>    
                </p:selectBooleanCheckbox>

                <p:outputLabel value="冰红茶 " for="t5"/>
                <p:selectBooleanCheckbox id="t5" value="#{billController.value5}" required="false">   
                    <p:ajax listener="#{billController.add5}"/>    
                </p:selectBooleanCheckbox>
                
                <p:outputLabel value="方便面: " for="t6"/>
                <p:selectBooleanCheckbox  id="t6" value="#{billController.value6}" required="false" >
                    <p:ajax listener="#{billController.add6}"/>
                </p:selectBooleanCheckbox>
            </h:panelGrid>
                    

                    
             
                    
            <p:commandButton value="退房"  actionListener="#{billController.sum}"  update="display" oncomplete="PF('dlg').show()" />
            <p:dialog header="Submit" modal="true" resizable="false" widgetVar="dlg">
                <h:panelGrid columns="1" id="display">
                    <h:outputText value="总共消费: #{billController.selected.totalFee}" />
                    <h:outputText value="额外费用: #{billController.selected.extraFee}" />
                    <p:commandButton  value="确认"   action="#{recordController.update}"/>
                </h:panelGrid>
            </p:dialog>
            <p:commandButton value="返回" action="Home" />
            </p:panel>
            
            
        
        </h:panelGrid>
            
                
     
        </h:form>
    </h:body>






</html>

