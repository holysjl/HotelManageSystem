<?xml version="1.0" encoding="UTF-8"?>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:c="http://xmlns.jcp.org/jsp/jstl/core">

    <h:head>
        <title>QueryPage</title>
    </h:head>

    <h:body>
        <h:form>
            <p:growl id="msgs" showDetail="true" />
            <p:panel id = "query_panel" header="查询" style=" height:748px">
                <h:panelGrid columns="2" cellpadding="5">
                    <p:outputLabel for="name" value="姓名: " />
                    <p:inputText id="name" value="#{customerController.cname}" />

                    <p:outputLabel for="startDate" value="开始日期: " />
                    <p:calendar id="startDate" value="#{customerController.sdate}" pattern="yyyy-MM-dd" maxdate="7/10/16" />
                    

                    <p:outputLabel for="endDate" value="结束日期: " />
                    <p:calendar id="endDate" value="#{customerController.edate}" pattern="yyyy-MM-dd" maxdate="7/10/16"/>
                </h:panelGrid>

                <p:separator />

                <p:commandButton value="提交" update="customer_query" actionListener="#{customerController.showQueryResults}">
                
            
                </p:commandButton>

                <p:separator />

                <p:dataTable id = "customer_query" var ="item1" value="#{customerController.items1}" 
                              scrollable="true"  scrollHeight="470"  style="border-style: none;">
                    <p:column headerText="Record" >
                        <h:outputText value="#{item1.CName}" />
                    </p:column>

                    <p:column headerText="性别" >
                        <h:outputText value="#{item1.sex}" />
                    </p:column>

                    <p:column headerText="ID" >
                        <h:outputText value="#{item1.id}" />
                    </p:column>

                    <p:column headerText="电话">
                        <h:outputText value="#{item1.tel}" />
                    </p:column>
                    <p:column headerText="房间号">
                        <h:outputText value="#{item1.recordRecordNo.roomRNo}" />
                    </p:column>
                    <p:column headerText="开始日期">
                        <h:outputText value="#{item1.recordRecordNo.startDate}" >
                        <f:convertDateTime pattern="yyyy-MM-dd" timeZone="GMT+8"/>
                        </h:outputText>
                    </p:column>
                    <p:column headerText="结束日期">
                        <h:outputText value="#{item1.recordRecordNo.endDate}" >
                        <f:convertDateTime pattern="yyyy-MM-dd" timeZone="GMT+8" />
                        </h:outputText>
                    </p:column>
                    <p:column headerText="订单号">
                        <h:outputText value="#{item1.recordRecordNo.recordNo}" >
                        </h:outputText>
                    </p:column>
                </p:dataTable>
            </p:panel>
        </h:form>
    </h:body>
</html>
